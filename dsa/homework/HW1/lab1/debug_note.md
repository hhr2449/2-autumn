## 调试技巧

### 静态检查

阅读代码，思考代码逻辑，可以自己重新讲一遍代码的逻辑

### 输出调试

在代码中添加输出，输出一些关键信息帮助调试

### 编辑器的调试功能

使用编辑器进行调试，可以进行单步调试，观察执行过程；

可以添加断点和条件断电，观察特定情况下的执行，或者是验证程序是否或执行某行代码或是是否会达到某个条件

### 对拍！！

可以写不同的程序，来查看他们的输出是否一致

一般使用慢但是不容易出错的程序来进行验证

1. 使用随机数生成测试数据（rand_input）

2. 通过程序来检验测试数据的合法性（check_input）

3. 使用自动化测试程序：

   1. 使用system来运行系统命令

   2. 使用编译指令来编译目标程序和测试程序

   3. 使用while循环来不断生成数据和进行验证：

      1. rand_input生成测试数据，并且将测试数据放入rand.in文件中保存

         这里使用了命令`system(./rand_input > rand.in)`意思是执行rand_in并且将原本输出到控制台的内容（printf的内容）输出到rand.in中

      2. 将rand.in中的数据输入check_in中进行验证，使用命令`system("./check_input < rand.in")!=0`

         * `./check_input < rand.in`这行命令是执行check_input，并且将rand.in作为输入数据

         * main函数返回值：

           如果程序异常退出，则返回非0值

           如果程序正常执行到return，则返回程序中设定的返回值

           返回0代表正常情况

           获取main函数返回值：

           1. 在命令行中使用`echo $?`可以获取上一个执行的程序的返回值
           2. 在程序中使用system来运行程序时，其返回值就是main函数返回值

           这里就可以使用main函数的返回值来进行验证，如果通过check_input的检测，则会返回0

      3. 将rand.in中的测试数据分别输入两个程序，并且将两个程序的输出分别储存

         `system("./solution_1 < rand.in > 1.out");`

         `system("./solution_2 < rand.in > 2.out");`

         这里的指令的含义是：./solution执行solution程序；< rand.in将rand.in输入程序中； > 1.out 将程序输出重定向到1.out1

      4. 比较两个.out文件，如果不同，则结束测试，此时我们得到了一组册数数据rand.in

         `system("diff 1.out 2.out")!=0`